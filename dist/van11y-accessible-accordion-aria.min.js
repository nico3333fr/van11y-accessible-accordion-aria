/**
 * van11y-accessible-accordion-aria - ES2015 accessible accordion system, using ARIA (compatible IE9+ when transpiled)
 * @version v2.1.0
 * @link https://van11y.net/accessible-accordion/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-accordion-aria/blob/master/LICENSE
 */
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){var t="js-accordion",r="js-accordion__header",n="js-accordion__panel",i="data-accordion-prefix-classes",o="data-accordion-opened",a="data-accordion-multiselectable",u="data-accordion-cool-selectors",c="accordion",l="_tab",s="_panel",f="accordion",d="accordion__title",b="accordion__header",p="accordion__panel",A="tablist",v="tab",y="tabpanel",g="role",m="aria-multiselectable",h="aria-expanded",_="aria-labelledby",N="aria-hidden",k="aria-controls",E="aria-selected",T=function(t){return e.getElementById(t)},L=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},P=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},x=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},C=function(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})},D=function(e){e.forEach(function(e){var t;C(e,(t={},_defineProperty(t,E,"false"),_defineProperty(t,"tabindex","-1"),t))})},w=function(e){e.setAttribute(E,!0),e.removeAttribute("tabindex")},S=function(e,t){var r=void 0;e.forEach(function(e,t){"true"===e.getAttribute(E)&&(r=t)}),"next"===t&&(w(e[r+1]),setTimeout(function(){e[r+1].focus()},0)),"prev"===t&&(w(e[r-1]),setTimeout(function(){e[r-1].focus()},0))},j=function(e,t){for(var r=!1,n=e.parentNode;n&&r===!1;)x(n,t)===!0?r=!0:n=n.parentNode;return r===!0?n.getAttribute("id"):""},q=function(){var r=arguments.length<=0||void 0===arguments[0]?e:arguments[0];return[].slice.call(r.querySelectorAll("."+t))},K=function(e){q(e).forEach(function(e){var t=Math.random().toString(32).slice(2,12),n=e.hasAttribute(i)===!0?e.getAttribute(i)+"-":"",T=e.hasAttribute(u)===!0;"none"===e.getAttribute(a)?e.setAttribute(m,"false"):e.setAttribute(m,"true"),e.setAttribute(g,A),L(e,n+f);var x=[].slice.call(e.querySelectorAll("."+r));x.forEach(function(i,a){var u,f;if(i.parentNode===e||T!==!1){var A=a+1,m=i.nextElementSibling,x=i.innerHTML,D=document.createElement("BUTTON"),w=i.hasAttribute(o)===!0?i.getAttribute(o):"";D.innerHTML=x,L(D,r),L(D,n+b),C(D,(u={},_defineProperty(u,g,v),_defineProperty(u,"id",c+t+l+A),_defineProperty(u,k,c+t+s+A),_defineProperty(u,E,"false"),_defineProperty(u,"tabindex","-1"),_defineProperty(u,"type","button"),u)),D=i.parentNode.insertBefore(D,i),m.insertBefore(i,m.firstChild),L(i,n+d),P(i,r),L(m,n+p),C(m,(f={},_defineProperty(f,g,y),_defineProperty(f,_,c+t+l+A),_defineProperty(f,"id",c+t+s+A),f)),"true"===w?(D.setAttribute(h,"true"),i.removeAttribute(o),m.setAttribute(N,"false")):(D.setAttribute(h,"false"),m.setAttribute(N,"true")),1===A&&D.removeAttribute("tabindex")}})})};["click","keydown","focus"].forEach(function(t){e.body.addEventListener(t,function(e){x(e.target,r)===!0&&"focus"===t&&!function(){var t=e.target,n=t.parentNode,i=n.hasAttribute(u)===!0,o=[].slice.call(n.querySelectorAll("."+r));i===!1&&(o=o.filter(function(e){return e.parentNode===n})),D(o),w(t)}(),x(e.target,r)===!0&&"click"===t&&!function(){var t=e.target,n=t.parentNode,i=n.hasAttribute(u)===!0,o=[].slice.call(n.querySelectorAll("."+r)),a=n.getAttribute(m),c=T(t.getAttribute(k)),l=t.getAttribute(h);i===!1&&(o=o.filter(function(e){return e.parentNode===n})),"false"===l?(t.setAttribute(h,!0),c.removeAttribute(N)):(t.setAttribute(h,!1),c.setAttribute(N,!0)),"false"===a&&o.forEach(function(e){var r=T(e.getAttribute(k));e!==t?(e.setAttribute(E,!1),e.setAttribute(h,!1),r.setAttribute(N,!0)):e.setAttribute(E,!0)}),setTimeout(function(){t.focus()},0),e.preventDefault()}(),x(e.target,r)===!0&&"keydown"===t&&!function(){var t=e.target,n=t.parentNode,i=n.hasAttribute(u)===!0,o=[].slice.call(n.querySelectorAll("."+r));i===!1&&(o=o.filter(function(e){return e.parentNode===n})),36===e.keyCode?(D(o),w(o[0]),setTimeout(function(){o[0].focus()},0),e.preventDefault()):35===e.keyCode?(D(o),w(o[o.length-1]),setTimeout(function(){o[o.length-1].focus()},0),e.preventDefault()):37!==e.keyCode&&38!==e.keyCode||e.ctrlKey?40!==e.keyCode&&39!==e.keyCode||e.ctrlKey||("true"===o[o.length-1].getAttribute(E)?(D(o),w(o[0]),setTimeout(function(){o[0].focus()},0),e.preventDefault()):(S(o,"next"),e.preventDefault())):"true"===o[0].getAttribute(E)?(D(o),w(o[o.length-1]),setTimeout(function(){o[o.length-1].focus()},0),e.preventDefault()):(S(o,"prev"),e.preventDefault())}();var i=j(e.target,n);""!==i&&"keydown"===t&&!function(){var t=T(i),n=t.parentNode,o=n.hasAttribute(u)===!0,a=[].slice.call(n.querySelectorAll("."+r)),c=T(t.getAttribute(_));o===!1&&(a=a.filter(function(e){return e.parentNode===n})),38===e.keyCode&&e.ctrlKey&&(D(a),w(c),setTimeout(function(){c.focus()},0),e.preventDefault()),33===e.keyCode&&e.ctrlKey&&(D(a),w(c),c.focus(),e.preventDefault(),"true"===a[0].getAttribute(E)?(D(a),w(a[a.length-1]),setTimeout(function(){a[a.length-1].focus()},0)):S(a,"prev")),34===e.keyCode&&e.ctrlKey&&(D(a),w(c),c.focus(),e.preventDefault(),"true"===a[a.length-1].getAttribute(E)?(D(a),w(a[0]),setTimeout(function(){a[0].focus()},0)):S(a,"next"))}()},!0)});var M=function O(){K(),document.removeEventListener("DOMContentLoaded",O)};document.addEventListener("DOMContentLoaded",M),window.van11yAccessibleAccordionAria=K}(document);